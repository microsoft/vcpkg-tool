trigger:
- test-localization
pr: none

variables:
# this is silly, but we need the argument to patVariable to be exactly
# "$(PackageSourcePat)"
# however, if we actually put that there after PackageSourcePat is defined,
# it replaces $(PackageSourcePat) with the value of PackageSourcePat
- name: PackageSourcePatIndirect
  value: '$(PackageSourcePat)'
- group: vcpkg-localization
- name: PackageSourcePat
  value: "$(vcpkg-ceapx-package-source-pat)"

pool:
  name: 'VSEngSS-MicroBuild2022-1ES'

steps:
- task: OneLocBuild@2
  inputs:
    locProj: 'LocProject.json'
    outDir: '$(Build.ArtifactStagingDirectory)'
    isUseLfLineEndingsSelected: true
    packageSourceAuth: patAuth
    patVariable: '$(PackageSourcePatIndirect)'
